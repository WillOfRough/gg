<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.body.gg.domain.mapper.UserMapper">

    <select id="findUser" resultType="com.body.gg.domain.entity.user.UserEntity">
        SELECT *
        FROM user
        WHERE u_email = #{email} and u_oauth = #{oauth}
    </select>


    <update id="updateTop">
        UPDATE ${_table} SET ${_key} = #{_value} WHERE u_id = #{_id};
    </update>

    <insert id="insertUser">
        INSERT INTO user(u_email,u_name,u_oauth) VALUES (#{email},#{name},#{oauth});
    </insert>

    <update id="insertUserInfo">
        UPDATE user SET u_gender = #{_gender} WHERE u_id = #{_id};
    </update>

    <insert id="insertUserHead">
        INSERT INTO head(u_id) VALUE (#{_id});
    </insert>

    <insert id="insertUserTop">
        INSERT INTO top(u_id) VALUE (#{_id});
    </insert>

    <insert id="insertUserBot">
        INSERT INTO bot(u_id) VALUE (#{_id});
    </insert>

    <insert id="insertUserFoot">
        INSERT INTO foot(u_id) VALUE (#{_id});
    </insert>
</mapper>
